Using network 'development'.

Compiling ./contracts/Purchase.sol...
Compiling ./contracts/TokenCubit.sol...
Compiling ./contracts/logic/OrderLogic.sol...
Compiling ./contracts/logic/VatLogic.sol...

  Contract: VatLogic
test1
    ✓ should create a vat key
    ✓ should register Vat input movement (76100 gas)
    ✓ should register Vat output movement (78030 gas)
    ✓ should pay vat input movement (168433 gas)
    ✓ should pay vat output movement (155863 gas)

  Contract: OrderLogic
    ✓ should set authorizations (57346 gas)
    ✓ should add a new order (1205235 gas)
    ✓ should revert the order, buyer is the same of the seller (42848 gas)

  Contract: Owned
    ✓ Should transfer ownership (28456 gas)

  Contract: Test IPFS functions
    ✓ should test IPFS Product insertProduct and getProduct

  Contract: VatLogic
    ✓ should insert a VAT input movement (70674 gas)
    ✓ should insert  a VAT output movement (72604 gas)

  Contract: Purchase
    ✓ should set authorizations (57346 gas)
    ✓ should buy some products (2650257 gas)

  Contract: Authorizable
    ✓ Should add an authorized (43628 gas)
    ✓ Should remove the previous authorized (14300 gas)

  Contract: UserStorage
    ✓ should add a new User (110589 gas)
    ✓ should check if the user type is correct (23749 gas)
    ✓ should ban a user (28496 gas)

  Contract: ProductStorage
    ✓ should set the ProductLogic contract as authorized contract (28650 gas)
    ✓ should add a new product (147159 gas)
    ✓ should set the NetPrice of a product (27866 gas)
    ✓ should set the VAT percentage of a product (28112 gas)
    ✓ should set the Seller of a product (29457 gas)
    ✓ should set the Hash Size of a product (28234 gas)
    ✓ should set the Hash Function of a product (28197 gas)
    ✓ should set the Latest Hash Ipfs of a product (28102 gas)
    ✓ should update Hash of a product (114533 gas)
    ✓ should delete a product (32220 gas)

  Contract: ProductLogic
    ✓ should check if product logic is added to the authorized contract of ProductStorage
    ✓ should add a new product successfully (248852 gas)
    ✓ should modify a product (67312 gas)
    ✓ should delete a product (35321 gas)

  Contract: OrderStorage
    ✓ should add a new order (366062 gas)

  Contract: UserLogic
    ✓ should check if user logic is added to the authorized contract of UserStorage
    ✓ Should add a new Citizen (91758 gas)
    ✓ Should add a new Business (91824 gas)

  Contract: TokenCubit
0
1
2
3
    ✓ should distribute token to multiple addresses (148612 gas)

·--------------------------------------------------------------------------------------|----------------------------·
|                                         Gas                                          ·  Block limit: 6721975 gas  │
·····················································|·································|·····························
|  Methods                                           ·           21 gwei/gas           ·       146.01 eur/eth       │
···················|·································|··········|··········|···········|··············|··············
|  Contract        ·  Method                         ·  Min     ·  Max     ·  Avg      ·  # calls     ·  eur (avg)  │
···················|·································|··········|··········|···········|··············|··············
|  Authorizable    ·  addAuthorized                  ·       -  ·       -  ·    43628  ·           1  ·       0.13  │
···················|·································|··········|··········|···········|··············|··············
|  Authorizable    ·  removeAuthorized               ·       -  ·       -  ·    14300  ·           1  ·       0.04  │
···················|·································|··········|··········|···········|··············|··············
|  OrderLogic      ·  registerOrder                  ·       -  ·       -  ·   397315  ·           1  ·       1.22  │
···················|·································|··········|··········|···········|··············|··············
|  OrderStorage    ·  addAuthorized                  ·       -  ·       -  ·    28695  ·           2  ·       0.09  │
···················|·································|··········|··········|···········|··············|··············
|  OrderStorage    ·  addOrder                       ·       -  ·       -  ·   366062  ·           1  ·       1.12  │
···················|·································|··········|··········|···········|··············|··············
|  Owned           ·  transferOwnership              ·       -  ·       -  ·    28456  ·           1  ·       0.09  │
···················|·································|··········|··········|···········|··············|··············
|  ProductLogic    ·  addProduct                     ·  156004  ·  156068  ·   156025  ·          12  ·       0.48  │
···················|·································|··········|··········|···········|··············|··············
|  ProductLogic    ·  deleteProduct                  ·       -  ·       -  ·    35321  ·           1  ·       0.11  │
···················|·································|··········|··········|···········|··············|··············
|  ProductLogic    ·  modifyProduct                  ·       -  ·       -  ·    67312  ·           1  ·       0.21  │
···················|·································|··········|··········|···········|··············|··············
|  ProductStorage  ·  addAuthorized                  ·       -  ·       -  ·    28650  ·           1  ·       0.09  │
···················|·································|··········|··········|···········|··············|··············
|  ProductStorage  ·  addProduct                     ·       -  ·       -  ·   147159  ·           1  ·       0.45  │
···················|·································|··········|··········|···········|··············|··············
|  ProductStorage  ·  deleteProduct                  ·       -  ·       -  ·    32220  ·           1  ·       0.10  │
···················|·································|··········|··········|···········|··············|··············
|  ProductStorage  ·  setHashFunction                ·   28197  ·   43197  ·    35697  ·           2  ·       0.11  │
···················|·································|··········|··········|···········|··············|··············
|  ProductStorage  ·  setHashSize                    ·       -  ·       -  ·    28234  ·           2  ·       0.09  │
···················|·································|··········|··········|···········|··············|··············
|  ProductStorage  ·  setLatestHashIpfs              ·   28102  ·   43102  ·    35602  ·           2  ·       0.11  │
···················|·································|··········|··········|···········|··············|··············
|  ProductStorage  ·  setNetPrice                    ·       -  ·       -  ·    27866  ·           1  ·       0.09  │
···················|·································|··········|··········|···········|··············|··············
|  ProductStorage  ·  setSeller                      ·       -  ·       -  ·    29457  ·           1  ·       0.09  │
···················|·································|··········|··········|···········|··············|··············
|  ProductStorage  ·  setVatPercentage               ·       -  ·       -  ·    28112  ·           1  ·       0.09  │
···················|·································|··········|··········|···········|··············|··············
|  Purchase        ·  saveAndPayOrder                ·       -  ·       -  ·  1184255  ·           1  ·       3.63  │
···················|·································|··········|··········|···········|··············|··············
|  TokenCubit      ·  approve                        ·       -  ·       -  ·    45419  ·           3  ·       0.14  │
···················|·································|··········|··········|···········|··············|··············
|  TokenCubit      ·  distributeToMultipleAddresses  ·       -  ·       -  ·   148612  ·           1  ·       0.46  │
···················|·································|··········|··········|···········|··············|··············
|  TokenCubit      ·  mintToken                      ·   38275  ·   53275  ·    45775  ·           2  ·       0.14  │
···················|·································|··········|··········|···········|··············|··············
|  TokenCubit      ·  transfer                       ·       -  ·       -  ·    53083  ·           1  ·       0.16  │
···················|·································|··········|··········|···········|··············|··············
|  UserLogic       ·  addBusiness                    ·   91824  ·   92848  ·    91970  ·           7  ·       0.28  │
···················|·································|··········|··········|···········|··············|··············
|  UserLogic       ·  addCitizen                     ·       -  ·       -  ·    91758  ·           1  ·       0.28  │
···················|·································|··········|··········|···········|··············|··············
|  UserStorage     ·  addUser                        ·       -  ·       -  ·    86840  ·           1  ·       0.27  │
···················|·································|··········|··········|···········|··············|··············
|  UserStorage     ·  setEnable                      ·       -  ·       -  ·    28496  ·           1  ·       0.09  │
···················|·································|··········|··········|···········|··············|··············
|  VatLogic        ·  payVat                         ·       -  ·       -  ·    69739  ·           1  ·       0.21  │
···················|·································|··········|··········|···········|··············|··············
|  VatLogic        ·  refundVat                      ·       -  ·       -  ·    72169  ·           1  ·       0.22  │
···················|·································|··········|··········|···········|··············|··············
|  VatLogic        ·  registerVat                    ·   76100  ·   78030  ·    77065  ·           2  ·       0.24  │
···················|·································|··········|··········|···········|··············|··············
|  VatStorage      ·  addAuthorized                  ·       -  ·       -  ·    28651  ·           2  ·       0.09  │
···················|·································|··········|··········|···········|··············|··············
|  VatStorage      ·  insertVatAndSetState           ·   70674  ·   72604  ·    71639  ·           2  ·       0.22  │
···················|·································|··········|··········|···········|··············|··············
|  Deployments                                       ·                                 ·  % of limit  ·             │
·····················································|··········|··········|···········|··············|··············
|  Authorizable                                      ·       -  ·       -  ·   575342  ·       8.6 %  ·       1.76  │
·····················································|··········|··········|···········|··············|··············
|  ContractManager                                   ·       -  ·       -  ·   725916  ·      10.8 %  ·       2.23  │
·····················································|··········|··········|···········|··············|··············
|  OrderLogic                                        ·       -  ·       -  ·  1984009  ·      29.5 %  ·       6.08  │
·····················································|··········|··········|···········|··············|··············
|  OrderStorage                                      ·       -  ·       -  ·  2190676  ·      32.6 %  ·       6.72  │
·····················································|··········|··········|···········|··············|··············
|  Owned                                             ·       -  ·       -  ·   226977  ·       3.4 %  ·       0.70  │
·····················································|··········|··········|···········|··············|··············
|  ProductLogic                                      ·       -  ·       -  ·  1813829  ·        27 %  ·       5.56  │
·····················································|··········|··········|···········|··············|··············
|  ProductStorage                                    ·       -  ·       -  ·  2102538  ·      31.3 %  ·       6.45  │
·····················································|··········|··········|···········|··············|··············
|  Purchase                                          ·       -  ·       -  ·  1173138  ·      17.5 %  ·       3.60  │
·····················································|··········|··········|···········|··············|··············
|  TokenCubit                                        ·       -  ·       -  ·  1661887  ·      24.7 %  ·       5.10  │
·····················································|··········|··········|···········|··············|··············
|  UserLogic                                         ·       -  ·       -  ·  1168910  ·      17.4 %  ·       3.58  │
·····················································|··········|··········|···········|··············|··············
|  UserStorage                                       ·       -  ·       -  ·  1145054  ·        17 %  ·       3.51  │
·····················································|··········|··········|···········|··············|··············
|  VatLogic                                          ·       -  ·       -  ·  1999237  ·      29.7 %  ·       6.13  │
·····················································|··········|··········|···········|··············|··············
|  VatStorage                                        ·       -  ·       -  ·  1144841  ·        17 %  ·       3.51  │
·----------------------------------------------------|----------|----------|-----------|--------------|-------------·

  38 passing (33s)

